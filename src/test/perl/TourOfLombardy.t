use strict;
use warnings;

use Data::Dumper;
use ParcoursDB::Classic::TourOfLombardy::Factory;
use Test::More;

my $factory = ParcoursDB::Classic::TourOfLombardy::Factory->new;

test_edition( 1905, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1906, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1907, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1908, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1909, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1910, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1911, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1912, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1913, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1919, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1920, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1921, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1922, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1923, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1924, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1925, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1926, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1927, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1928, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1929, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1930, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1931, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1932, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1933, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1934, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1935, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1936, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1937, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1938, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1939, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1945, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1946, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1947, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1948, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1949, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1950, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1951, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1952, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1953, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1954, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1955, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1956, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1957, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1958, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1959, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1960, 'Milan (Italy)', 'Milan (Italy)' );
test_edition( 1961, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1962, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1963, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1964, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1965, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1966, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1967, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1968, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1969, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1970, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1971, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1972, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1973, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1974, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1975, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1976, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1977, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1978, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1979, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1980, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1981, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1982, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1983, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1984, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 1985, 'Como (Italy)', 'Milan (Italy)' );
test_edition( 1986, 'Como (Italy)', 'Milan (Italy)' );
test_edition( 1987, 'Como (Italy)', 'Milan (Italy)' );
test_edition( 1988, 'Como (Italy)', 'Milan (Italy)' );
test_edition( 1989, 'Como (Italy)', 'Milan (Italy)' );
test_edition( 1990, 'Milan (Italy)', 'Monza (Italy)' );
test_edition( 1991, 'Milan (Italy)', 'Monza (Italy)' );
test_edition( 1992, 'Milan (Italy)', 'Monza (Italy)' );
test_edition( 1993, 'Milan (Italy)', 'Monza (Italy)' );
test_edition( 1994, 'Milan (Italy)', 'Monza (Italy)' );
test_edition( 1995, 'Varese (Italy)', 'Bergamo (Italy)' );
test_edition( 1996, 'Varese (Italy)', 'Bergamo (Italy)' );
test_edition( 1997, 'Varese (Italy)', 'Bergamo (Italy)' );
test_edition( 1998, 'Varese (Italy)', 'Bergamo (Italy)' );
test_edition( 1999, 'Varese (Italy)', 'Bergamo (Italy)' );
test_edition( 2000, 'Varese (Italy)', 'Bergamo (Italy)' );
test_edition( 2001, 'Varese (Italy)', 'Bergamo (Italy)' );
test_edition( 2002, 'Cantu (Italy)', 'Bergamo (Italy)' );
test_edition( 2003, 'Como (Italy)', 'Bergamo (Italy)' );
test_edition( 2004, 'Mendrisio (Italy)', 'Como (Italy)' );
test_edition( 2005, 'Mendrisio (Italy)', 'Como (Italy)' );
test_edition( 2006, 'Mendrisio (Italy)', 'Como (Italy)' );
test_edition( 2007, 'Varese (Italy)', 'Como (Italy)' );
test_edition( 2008, 'Varese (Italy)', 'Como (Italy)' );
test_edition( 2009, 'Varese (Italy)', 'Como (Italy)' );
test_edition( 2010, 'Milan (Italy)', 'Como (Italy)' );
test_edition( 2011, 'Milan (Italy)', 'Lecco (Italy)' );
test_edition( 2012, 'Bergamo (Italy)', 'Lecco (Italy)' );
test_edition( 2013, 'Bergamo (Italy)', 'Lecco (Italy)' );
test_edition( 2014, 'Como (Italy)', 'Bergamo (Italy)' );
test_edition( 2015, 'Bergamo (Italy)', 'Como (Italy)' );
test_edition( 2016, 'Como (Italy)', 'Bergamo (Italy)' );
test_edition( 2017, 'Bergamo (Italy)', 'Como (Italy)' );
test_edition( 2018, 'Bergamo (Italy)', 'Como (Italy)' );
test_edition( 2019, 'Bergamo (Italy)', 'Como (Italy)' );

done_testing();

sub test_edition {
    my ( $year, $expected_start, $expected_finish ) = @_;

    subtest "Tour of Lombardy [$year]" => sub {
        my $edition = $factory->edition( $year );
        is( $edition->name, "Il Lombardia", "'name' is as expected" );
        is( $edition->start->fqnc, $expected_start, "'start' is as expected" );
        is( $edition->finish->fqnc, $expected_finish, "'finish' is as expected" );
    };
}
